/* ---------------------------
   RESET & BASICS
--------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  height: 100%;
}

body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: #e8eef6;
  background: #0b1320; /* dunkles Blau */
  line-height: 1.45;
}

/* Buttons / Inputs */
button, .btn, .btn-sm, .btn-ghost, select, input {
  font-family: inherit;
  font-size: 14px;
}

/* Links dezent */
a { color: #5ac8fa; text-decoration: none; }
a:hover { text-decoration: underline; }

/* Farben */
:root{
  --bg: #0b1320;
  --bg-soft: #0f1a2e;
  --panel: #111e33;
  --panel-2: #13223a;
  --border: #1e3354;
  --text: #e8eef6;
  --muted: #a8b4c4;
  --accent: #24d6df;   /* Türkis (Tech) */
  --accent-2: #ffc857; /* Gold (Luxury) */
}

/* ---------------------------
   APP LAYOUT
--------------------------- */
.app{
  display: grid;
  grid-template-columns: 240px 1fr;
  gap: 0;
  min-height: 100vh;
}

/* Sidebar */
.sidebar{
  position: sticky;
  top: 0;
  align-self: start;
  height: 100vh;
  overflow-y: auto;
  background: var(--bg-soft);
  border-right: 1px solid var(--border);
  padding: 16px;
}

.logo{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom: 12px;
}

.tab{
  background: transparent;
  border: 1px solid var(--border);
  padding: 10px 12px;
  border-radius: 10px;
  margin-bottom: 8px;
  cursor: pointer;
  color: var(--text);
}
.tab:hover{ background: #0e1a2d; }
.tab.active{ background: var(--panel); border-color: #254571; }

/* Sidebar Controls */
.row{ display:flex; gap:8px; margin:10px 0 14px; flex-wrap: wrap; }
.btn{ background:#173057; border:1px solid #2a4b79; color:#dbe7ff; padding:8px 10px; border-radius:8px; cursor:pointer; }
.btn:hover{ background:#1a3560; }
.btn-sm{ background:#173057; border:1px solid #2a4b79; color:#dbe7ff; padding:6px 8px; border-radius:8px; cursor:pointer; font-size:12px; }
.btn-ghost{ background:transparent; border:1px dashed #2a4b79; color:#9fb8dc; padding:6px 8px; border-radius:8px; cursor:pointer; }

.select, .input{
  width:100%;
  background:#0e1a2d;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:8px;
  padding:8px 10px;
}

/* Main area */
.main{
  position: relative;     /* WICHTIG: nix absolut */
  display: block;
  min-height: 100vh;
  overflow-x: hidden;
  background: var(--bg);
}

/* Header */
.header{
  position: sticky;
  top: 0;
  z-index: 10;
  background: linear-gradient(180deg, rgba(11,19,32,0.96) 0%, rgba(11,19,32,0.75) 100%);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border);
  padding: 14px 18px;
}
.header .helper{ color: var(--muted); font-size: 12px; }

/* Content wrapper – sorgt für sauberes Scrollen */
.content{
  position: relative;
  padding: 18px;
}

/* ---------------------------
   SECTIONS / CARDS
--------------------------- */
.section{
  position: relative;       /* WICHTIG: kein absolute */
  display: block;
  background: transparent;
  margin: 0 0 28px 0;       /* Abstand zwischen Bereichen */
}

.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}

.card + .card{ margin-top: 16px; }

.card-head{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}
.card-head h3{
  font-size: 16px;
  margin: 0;
  color: var(--accent);
}

/* Legende unter Titeln */
.legend{
  display:flex;
  flex-wrap: wrap;
  gap: 8px 12px;
  margin: 6px 0 8px;
  color: var(--muted);
  font-size: 12px;
}

/* Plot-Container (Plotly) */
.plot{
  position: relative;
  width: 100%;
  min-height: 260px;
  height: 320px;        /* Standardhöhe */
  border-radius: 10px;
  overflow: hidden;
  background: var(--panel-2);
  border: 1px solid #1b2e4d;
}
@media (min-width: 1280px){
  .plot{ height: 360px; }
}

/* Grids */
.grid{ display: grid; gap: 16px; }
.grid-2{ grid-template-columns: 1fr; }
.grid-3{ grid-template-columns: 1fr; }
@media (min-width: 1024px){
  .grid-2{ grid-template-columns: 1fr 1fr; }
}
@media (min-width: 1280px){
  .grid-3{ grid-template-columns: 1fr 1fr 1fr; }
}

/* Inline Controls unter Charts */
.inlineCtrls{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 10px;
}
.rng{ width:160px; }
.badgeKPI{
  background:#0e1a2d; border:1px solid var(--border);
  color:#b9c7dd; padding:4px 8px; border-radius:8px; font-size:12px;
}

/* Helper / Badges */
.helper{ color: var(--muted); font-size: 12px; }
.badges{
  position: sticky;
  bottom: 0;
  padding: 10px 14px;
  display:flex; gap:10px; flex-wrap: wrap;
  background: linear-gradient(180deg, rgba(11,19,32,0), rgba(11,19,32,0.9) 30%, rgba(11,19,32,1) 100%);
}
.badge{ display:flex; align-items:center; gap:6px; background:#102038; border:1px solid #213a61; color:#c6d7ef; padding:6px 10px; border-radius:999px; font-size:12px; }
.badge .dot{ width:6px; height:6px; border-radius:50%; background:#2ee59d; display:inline-block; }

/* Dropdown (Export) */
.dropdown{ position: relative; }
.dropdown-menu{
  position: absolute; right:0; top: calc(100% + 6px);
  background:#0f1b32; border:1px solid var(--border); border-radius:10px;
  padding:8px; min-width: 160px; z-index: 20; display:none;
}
.dropdown:hover .dropdown-menu{ display:block; }
.dropdown-menu a{ display:block; padding:6px 8px; color:#e7f0ff; border-radius:8px; }
.dropdown-menu a:hover{ background:#182b4b;}

/* Health Panel (klein rechts unten) */
#health{
  position: fixed; right: 12px; bottom: 12px; z-index: 50;
  background: rgba(16, 32, 56, 0.92);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 12px;
  color: var(--text);
  max-width: 280px;
}
.ok{ color:#86f7a6; }
.fail{ color:#ff7b7b; }

/* Gate (Password) */
#gate{
  position: fixed; inset:0; z-index: 1000;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(1200px 600px at 50% -50%, rgba(36,214,223,0.08), transparent 60%), #081024;
}
.gate{
  width: 360px; max-width: 92vw;
  background: #0f1b32; border:1px solid #1e3354; border-radius: 14px;
  padding: 22px;
  text-align:center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}
.input{ margin:8px 0 10px; }
.center{ text-align:center; }

/* Notes & Print */
.notes{
  position: fixed; right: 14px; top: 70px; z-index: 20;
  width: 360px; max-width: 92vw;
  background: #0f1b32; border:1px solid #1e3354; border-radius: 14px;
  padding: 12px 14px; display:none;
}
.notes h4{ margin:6px 0 8px; }
.notes .small{ color:#95a6bf; font-size:12px; }

.print-only{ display:none; }
.no-print{ display:block; }

@media print{
  .no-print{ display:none !important; }
  .print-only{ display:block !important; }
  body{ background:#fff; color:#000; }
  .plot{ height: 260px !important; }
}

/* Brand Cockpit – zwei Plots untereinander */
#brand-share, #brand-premium{ height: 320px; }

/* Korrektur für übergroße Medien (z. B. Bilder im Brand-Cockpit) */
img, svg, canvas{ max-width:100%; height:auto; }

/* Kleine kosmetische Verbesserungen */
.timer{ margin-left:10px; padding:2px 6px; border-radius:6px; border:1px solid #244268; color:#a9c5e7; font-family:"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
.mono{ font-family:"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
